2025-11-22 19:44:35.841 [main] INFO  com.xuan.TliasWebManagementApplication-Starting TliasWebManagementApplication using Java 21.0.8 with PID 14176 (D:\WebAICode\web-ai-project04\tlias-web-management\target\classes started by xuan in D:\WebAICode\web-ai-project04)
2025-11-22 19:44:35.842 [main] INFO  com.xuan.TliasWebManagementApplication-No active profile set, falling back to 1 default profile: "default"
2025-11-22 19:44:36.657 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer-Tomcat initialized with port 8080 (http)
2025-11-22 19:44:36.664 [main] INFO  org.apache.coyote.http11.Http11NioProtocol-Initializing ProtocolHandler ["http-nio-8080"]
2025-11-22 19:44:36.667 [main] INFO  org.apache.catalina.core.StandardService-Starting service [Tomcat]
2025-11-22 19:44:36.667 [main] INFO  org.apache.catalina.core.StandardEngine-Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22 19:44:36.700 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/]-Initializing Spring embedded WebApplicationContext
2025-11-22 19:44:36.701 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext-Root WebApplicationContext: initialization completed in 828 ms
2025-11-22 19:44:37.285 [main] INFO  org.apache.coyote.http11.Http11NioProtocol-Starting ProtocolHandler ["http-nio-8080"]
2025-11-22 19:44:37.295 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer-Tomcat started on port 8080 (http) with context path ''
2025-11-22 19:44:37.299 [main] INFO  com.xuan.TliasWebManagementApplication-Started TliasWebManagementApplication in 1.755 seconds (process running for 2.357)
2025-11-22 19:44:51.469 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/]-Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22 19:44:51.469 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet-Initializing Servlet 'dispatcherServlet'
2025-11-22 19:44:51.470 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet-Completed initialization in 1 ms
2025-11-22 19:44:51.534 [http-nio-8080-exec-2] INFO  com.xuan.interceptor.TokenInterceptor-token验证错误，返回401状态码
2025-11-22 19:44:51.534 [http-nio-8080-exec-1] INFO  com.xuan.interceptor.TokenInterceptor-token验证错误，返回401状态码
2025-11-22 19:44:58.504 [http-nio-8080-exec-4] INFO  com.xuan.controller.LoginController-登录:Emp(id=null, username=songjiang, password=123456, name=null, gender=null, phone=null, job=null, salary=null, image=null, entryDate=null, deptId=null, createTime=null, updateTime=null, deptName=null, exprList=null)
2025-11-22 19:44:58.530 [http-nio-8080-exec-4] INFO  com.zaxxer.hikari.HikariDataSource-HikariPool-1 - Starting...
2025-11-22 19:44:58.832 [http-nio-8080-exec-4] INFO  com.zaxxer.hikari.pool.HikariPool-HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@48afb77e
2025-11-22 19:44:58.834 [http-nio-8080-exec-4] INFO  com.zaxxer.hikari.HikariDataSource-HikariPool-1 - Start completed.
2025-11-22 19:44:58.887 [http-nio-8080-exec-4] INFO  com.xuan.service.impl.EmpServiceImpl-登录成功,员工信息:Emp(id=2, username=songjiang, password=123456, name=宋江, gender=null, phone=null, job=null, salary=null, image=null, entryDate=null, deptId=null, createTime=null, updateTime=null, deptName=null, exprList=null)
2025-11-22 19:44:58.896 [http-nio-8080-exec-4] INFO  com.xuan.aop.LoginLogAspect-登录操作参数:[Emp(id=null, username=songjiang, password=123456, name=null, gender=null, phone=null, job=null, salary=null, image=null, entryDate=null, deptId=null, createTime=null, updateTime=null, deptName=null, exprList=null)]
2025-11-22 19:45:00.495 [http-nio-8080-exec-5] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:00.495 [http-nio-8080-exec-3] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:00.496 [http-nio-8080-exec-5] INFO  com.xuan.controller.ClazzController-查询全部班级信息
2025-11-22 19:45:00.501 [http-nio-8080-exec-3] INFO  com.xuan.controller.StudentController-分页查询学生:StudentQueryParam(page=1, pageSize=10, name=, gender=null, no=null, clazzId=null, degree=null, isCollege=null, begin=null, end=null)
2025-11-22 19:45:00.526 [http-nio-8080-exec-5] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:00.570 [http-nio-8080-exec-3] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:01.010 [http-nio-8080-exec-8] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:01.010 [http-nio-8080-exec-6] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:01.011 [http-nio-8080-exec-8] INFO  com.xuan.controller.ClazzController-查询请求参数：ClazzQueryParam(page=1, pageSize=10, name=, masterId=null, beginDate=null, endDate=null)
2025-11-22 19:45:01.015 [http-nio-8080-exec-6] ERROR com.xuan.Exception.GlobalExceptionHandler-程序出错了~
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "list"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:302)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:137)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NumberFormatException: For input string: "list"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:662)
	at java.base/java.lang.Integer.valueOf(Integer.java:989)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:203)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:860)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:294)
	... 48 common frames omitted
2025-11-22 19:45:01.025 [http-nio-8080-exec-6] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:01.039 [http-nio-8080-exec-8] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:02.704 [http-nio-8080-exec-9] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:02.704 [http-nio-8080-exec-10] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:02.705 [http-nio-8080-exec-10] INFO  com.xuan.controller.ReportController-统计员工性别比例
2025-11-22 19:45:02.705 [http-nio-8080-exec-9] INFO  com.xuan.controller.ReportController-统计员工职位人数
2025-11-22 19:45:02.710 [http-nio-8080-exec-10] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:02.711 [http-nio-8080-exec-9] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:03.109 [http-nio-8080-exec-7] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:03.109 [http-nio-8080-exec-1] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:03.109 [http-nio-8080-exec-1] INFO  com.xuan.controller.ReportController-班级人数统计
2025-11-22 19:45:03.109 [http-nio-8080-exec-7] INFO  com.xuan.controller.ReportController-统计学生的学历情况
2025-11-22 19:45:03.112 [http-nio-8080-exec-7] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:03.133 [http-nio-8080-exec-1] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:03.486 [http-nio-8080-exec-2] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:03.487 [http-nio-8080-exec-2] INFO  com.xuan.controller.OperateLogController-分页查询操作日志: page=1, pageSize=15
2025-11-22 19:45:03.506 [http-nio-8080-exec-2] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:04.898 [http-nio-8080-exec-4] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:04.898 [http-nio-8080-exec-4] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:04.905 [http-nio-8080-exec-4] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:05.614 [http-nio-8080-exec-5] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:05.615 [http-nio-8080-exec-3] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:05.615 [http-nio-8080-exec-3] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:05.619 [http-nio-8080-exec-3] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:05.620 [http-nio-8080-exec-5] INFO  com.xuan.controller.EmpController-分页查询员工：EmpQueryParam(page=1, pageSize=10, name=, gender=null, begin=null, end=null)
2025-11-22 19:45:05.634 [http-nio-8080-exec-5] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:06.878 [http-nio-8080-exec-6] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:06.879 [http-nio-8080-exec-6] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:06.883 [http-nio-8080-exec-6] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:12.966 [http-nio-8080-exec-8] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:12.969 [http-nio-8080-exec-8] INFO  com.xuan.controller.DeptController-添加的部门数据为:Dept(id=null, name=111, createTime=null, updateTime=null)
2025-11-22 19:45:12.981 [http-nio-8080-exec-8] INFO  com.xuan.aop.OperateLogAspect-记录操作日志:OperateLog(id=null, operateEmpId=2, operateEmpName=null, operateTime=2025-11-22T19:45:12.980345700, className=com.xuan.controller.DeptController, methodName=add, methodParams=[Dept(id=null, name=111, createTime=2025-11-22T19:45:12.969353500, updateTime=2025-11-22T19:45:12.969353500)], returnValue=Result(code=1, msg=success, data=null), costTime=11),总共耗费时间:11
2025-11-22 19:45:12.988 [http-nio-8080-exec-8] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:12.997 [http-nio-8080-exec-9] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:12.997 [http-nio-8080-exec-9] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:13.002 [http-nio-8080-exec-9] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:14.159 [http-nio-8080-exec-10] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:14.160 [http-nio-8080-exec-10] INFO  com.xuan.controller.OperateLogController-分页查询操作日志: page=1, pageSize=15
2025-11-22 19:45:14.168 [http-nio-8080-exec-10] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:16.949 [http-nio-8080-exec-7] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:16.949 [http-nio-8080-exec-1] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:16.950 [http-nio-8080-exec-1] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:16.951 [http-nio-8080-exec-7] INFO  com.xuan.controller.EmpController-分页查询员工：EmpQueryParam(page=1, pageSize=10, name=, gender=null, begin=null, end=null)
2025-11-22 19:45:16.955 [http-nio-8080-exec-1] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:16.961 [http-nio-8080-exec-7] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:18.433 [http-nio-8080-exec-2] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:18.433 [http-nio-8080-exec-2] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:18.436 [http-nio-8080-exec-2] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:21.059 [http-nio-8080-exec-4] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:21.063 [http-nio-8080-exec-4] INFO  com.xuan.controller.DeptController-根据id删除部门:27
2025-11-22 19:45:21.079 [http-nio-8080-exec-4] INFO  com.xuan.aop.OperateLogAspect-记录操作日志:OperateLog(id=null, operateEmpId=2, operateEmpName=null, operateTime=2025-11-22T19:45:21.079394500, className=com.xuan.controller.DeptController, methodName=delete, methodParams=[27], returnValue=Result(code=1, msg=success, data=null), costTime=16),总共耗费时间:16
2025-11-22 19:45:21.083 [http-nio-8080-exec-4] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:21.091 [http-nio-8080-exec-3] INFO  com.xuan.interceptor.TokenInterceptor-token验证成功，将用户信息保存到ThreadLocal中
2025-11-22 19:45:21.091 [http-nio-8080-exec-3] INFO  com.xuan.controller.DeptController-查询全部的部门数据
2025-11-22 19:45:21.094 [http-nio-8080-exec-3] INFO  com.xuan.interceptor.TokenInterceptor-将ThreadLocal中的数据清空
2025-11-22 19:45:25.472 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource-HikariPool-1 - Shutdown initiated...
2025-11-22 19:45:25.496 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource-HikariPool-1 - Shutdown completed.
